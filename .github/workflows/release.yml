name: Release
on:
    push:
        branches:
            - main
jobs:
    release:
        name: Release
        runs-on: node:16-buster-slim
        steps:
            - name: Prepare
              run: apt-get update && apt-get install -y --no-install-recommends git-core ca-certificates
            - name: Install plugins
              run: npm install -g semantic-release @semantic-release/gitlab
            - name: Release
              env:
                GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
              run: semantic-release
